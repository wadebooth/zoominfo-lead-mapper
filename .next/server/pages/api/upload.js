"use strict";(()=>{var e={};e.id=196,e.ids=[196],e.modules={496:e=>{e.exports=require("json2csv")},1742:e=>{e.exports=import("csv-parse/sync")},1882:(e,r,t)=>{t.d(r,{JT:()=>h,fS:()=>C});let i=JSON.parse('{"C-Level":["chief","ceo","cfo","coo","cio","cto","cmo","chro","cdo","cco","cso","clo","cro","cpo","cbo","cao","cdao","caio","csco","cgo","chief executive officer","chief financial officer","chief operating officer","chief information officer","chief technology officer","chief marketing officer","chief human resources officer","chief digital officer","chief compliance officer","chief strategy officer","chief legal officer","chief revenue officer","chief product officer","chief brand officer","chief accounting officer","chief data & analytics officer","chief ai officer","chief supply chain officer","chief growth officer","general counsel","c-level"],"Vice President":["vice president","vp","svp","avp","evp"],"Director/Sr":["director","head of"],"Manager/Sr":["manager","mgr","supervisor"],"Architect":["architect"],"Developer/Engineer":["developer","engineer","software engineer"],"Individual Contributor":["associate","contributor","staff","rep"],"Press Analyst/Media":["analyst","press","media"],"System Administrator":["system administrator","sysadmin"],"Other":[]}'),{parse:n}=t(496),a=(...e)=>e.find(e=>e?.trim())?.trim()||"",o=e=>{let r=e?.replace(/\D/g,"")||"";return 10===r.length?r:11===r.length&&r.startsWith("1")?r.slice(1):""},s=()=>{let e=new Date,r=String(e.getDate()).padStart(2,"0"),t=e.toLocaleString("en-US",{month:"short"}).toUpperCase(),i=e.getFullYear().toString().slice(-2);return`Import-Zoominfo-WestOutbound-${r}${t}${i}`},c=["Cloud Operations","Customer Service/Support","Facilities","Field Service","Finance/Accounting","Global Business Services/Shared Services","Governance, Risk and Compliance","HR","IT","Legal","Marketing","Operations/Engineering/R&D","Other","Sales","Security","Supply Chain/Manufacturing","CEO"],l=["CAO","CCO","CDAO","CDO","CEO","CFO","CHRO","CIO","CISO/CSO","CLO","CMO","COO","CPO","CRO","CSCO","CTO","General Counsel","CAIO"],u={CAIO:"IT",CAO:"Finance/Accounting",CCO:"Governance, Risk and Compliance",CDAO:"IT",CDO:"Customer Service/Support",CEO:"CEO",CFO:"Finance/Accounting",CHRO:"HR",CIO:"IT","CISO/CSO":"Security",CLO:"Legal",CMO:"Marketing",COO:"Operations/Engineering/R&D",CPO:"Supply Chain/Manufacturing",CRO:"Sales",CSCO:"Supply Chain/Manufacturing",CTO:"IT","General Counsel":"Legal"},d=(e="")=>{let r=e.toLowerCase();for(let[e,t]of Object.entries(i))if(Array.isArray(t)&&t.some(e=>RegExp(`\\b${e.toLowerCase().replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`).test(r)))return e;return"Other"},p={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY",Alberta:"AB","British Columbia":"BC",Manitoba:"MB","New Brunswick":"NB","Newfoundland and Labrador":"NL","Northwest Territories":"NT","Nova Scotia":"NS",Nunavut:"NU",Ontario:"ON","Prince Edward Island":"PE",Quebec:"QC",Saskatchewan:"SK",Yukon:"YT"},f={"United States":"US",Canada:"CA"};function C(e){let r=(e="")=>e.trim().toUpperCase(),t=r(a(e["Company State"],e["Person State"])),i=p[t]||t,n=r(a(e["Company Country"],e.Country)),C=f[n]||n,m=e["Job Title"]||"",h=m.toUpperCase(),S=e.Department?.trim()||"",g="Other",O="Other",A=h.split(/[/,&|]+/).map(e=>e.trim()).filter(Boolean),y=A.every(e=>l.includes(e)),b=A.some(e=>l.includes(e));if(y){let e=A.find(e=>u[e]);e&&(g=e,O=u[e])}else b?(g="Other",O="Other"):c.includes(S)&&(O=S,g=`${S} - Other`);let P=a(e["Direct Phone Number"],e["Company HQ Phone"]),I=a(e["Mobile phone"],e["Mobile Phone"]),M=o(P),N=o(I);return{"First Name":e["First Name"]||"","Last Name":e["Last Name"]||"",Title:m,"Job Level":d(m),"Job Role":O,"Job Function":g,"Email Address":e["Email Address"]||e["Personal Email"]||"","Business Phone":M||N||"0000000000","Mobile Phone":M&&N&&M!==N?N:"",Company:e["Company Name"]||"","Address 1":"","Address 2":"",City:a(e["Company City"],e["Person City"]),"State or Province":i,Country:C,"Zip or Postal Code":a(e["Company Zip"],e["Person Zip"],e.Zip),"Lead Source Recent":"ADR Prospecting-IT-AMS West Sourced","Member Status":"",ExplicitConsentDate:"",ExplicitConsentSource:"","Assigned To":"your.email@company.com","Hot Lead":"","Campaign Asset":"",Comments:"",Salutation:"","List Source (required for OL campaigns)":s(),"Solution Interest":"","Requested Next Step":"","Account Number":"","Campaign ID":"","List Upload Name":"","I am Interested":"","Conditional fields >>>":"",Unsubscribed:"","Unsubscribed Date":"","Unsubscribed Reason":"","Special Instructions":"","Marketing Suspended":"","Marketing Suspended Reason":"","Process Rule":""}}let m=["First Name","Last Name","Title","Job Level","Job Role","Job Function","Email Address","Business Phone","Mobile Phone","Company","Address 1","Address 2","City","State or Province","Country","Zip or Postal Code","Lead Source Recent","Member Status","ExplicitConsentDate","ExplicitConsentSource","Assigned To","Hot Lead","Campaign Asset","Comments","Salutation","List Source (required for OL campaigns)","Solution Interest","Requested Next Step","Account Number","Campaign ID","List Upload Name","I am Interested","Conditional fields >>>","Unsubscribed","Unsubscribed Date","Unsubscribed Reason","Special Instructions","Marketing Suspended","Marketing Suspended Reason","Process Rule"];function h(e){return n(e,{fields:m})}},2682:(e,r,t)=>{t.a(e,async(e,i)=>{try{t.r(r),t.d(r,{config:()=>d,default:()=>u});var n=t(7313),a=t(1742),o=t(1882),s=t(9021),c=t.n(s),l=e([n,a]);[n,a]=l.then?(await l)():l;let d={api:{bodyParser:!1}};async function u(e,r){try{let t,{files:i}=await new Promise((r,t)=>new n.IncomingForm({keepExtensions:!0,maxFileSize:5242880,multiples:!1}).parse(e,(e,i,n)=>{if(e)return t(e);r({fields:i,files:n})})),s=i.file,l=Array.isArray(s)?s[0]:s;if(!l?.filepath)return console.error("No file or filepath found:",i),r.status(400).json({error:"Invalid or missing file upload"});let u=await c().promises.readFile(l.filepath);try{t=(0,a.parse)(u.toString(),{columns:!0,skip_empty_lines:!0,relax_quotes:!0,relax_column_count:!0,quote:""})}catch(e){return console.error("CSV parse error:",e),r.status(422).json({error:"Unable to parse CSV",details:e.message})}let d=t.map(o.fS),p=(0,o.JT)(d);return r.setHeader("Content-Disposition",'attachment; filename="mapped.csv"'),r.setHeader("Content-Type","text/csv"),r.status(200).send(p)}catch(e){return console.error("Unexpected handler error:",e),r.status(500).json({error:"Internal server error",details:e.message})}}i()}catch(e){i(e)}})},3480:(e,r,t)=>{e.exports=t(5600)},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6435:(e,r)=>{Object.defineProperty(r,"M",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},7313:e=>{e.exports=import("formidable")},8484:(e,r,t)=>{t.a(e,async(e,i)=>{try{t.r(r),t.d(r,{config:()=>u,default:()=>l,routeModule:()=>d});var n=t(3480),a=t(8667),o=t(6435),s=t(2682),c=e([s]);s=(c.then?(await c)():c)[0];let l=(0,o.M)(s,"default"),u=(0,o.M)(s,"config"),d=new n.PagesAPIRouteModule({definition:{kind:a.A.PAGES_API,page:"/api/upload",pathname:"/api/upload",bundlePath:"",filename:""},userland:s});i()}catch(e){i(e)}})},8667:(e,r)=>{Object.defineProperty(r,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9021:e=>{e.exports=require("fs")}};var r=require("../../webpack-api-runtime.js");r.C(e);var t=r(r.s=8484);module.exports=t})();